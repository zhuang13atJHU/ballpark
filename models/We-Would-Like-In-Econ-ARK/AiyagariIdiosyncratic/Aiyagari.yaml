#Individual's problem
name: Agent

symbols:
  states: [a]
  exogenous: [r,w,e]
  parameters: [beta,RiskAversion,B,a_max]
  controls: [i]

definitions:
  c: (1+r)*a + w*exp(e) - i

equations:

  arbitrage:
    - 1 - (beta*(1+r(+1)))**(1/RiskAversion)*c/c(+1) | -B <= i <= (1+r)*a + w*exp(e)

  transition:
    - a = i(-1)

calibration: 

  # Parameters
  beta: 0.99
  RiskAversion: 1.00
  B: 0.0000000001
  a_max: 200
  a: 1
  i: a

  K: 40
  alpha: 0.36
  A: 1 
  N: 1
  delta: 0.025
  r: A*alpha*(N/K)**(1-alpha) - delta
  w: A*(1-alpha)*(K/N)**(alpha)

domain:
  a: [-B,a_max]

exogenous:
  r,w: !ConstantProcess
      mu: [r,w]
  e: !VAR1
      rho: 0.95
      sigma: [[0.06**2]]


options: 
  grid:
      !Cartesian
      orders: [30]




# Equilibrium
name: Aggregate

symbols:
  aggregate: [K]
  parameters: [A,alpha,delta,N,rho]

calibration:
  A: 1
  alpha: 0.36
  delta: 0.025
  N: 1.0 
  K: 40

projection:
  r: A*alpha*(N/K)**(1-alpha) - delta
  w: A*(1-alpha)*(K/N)**(alpha)


equilibrium: 
  - K = a

